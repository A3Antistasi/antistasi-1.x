FIA_RB1_1 =
[
	[guer_veh_technical,[4.1333,-0.0429688,0.00792694],180.707,1,0,[-0.621232,-0.00125634],"","",true,false],
	["Land_BagFence_End_F",[2.87598,-2.96484,-0.000999928],226.06,1,0,[0,0],"","",true,false],
	["Land_BagFence_Short_F",[4.37598,-3.62695,-0.000999928],359.164,1,0,[0,0],"","",true,false],
	["Land_BagFence_Short_F",[5.72314,0.189941,0.781326],89.3339,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[5.73633,-1.18604,-0.000999928],93.5619,1,0,[0,-0],"","",true,false],
	["Land_BagFence_Short_F",[5.73486,1.20703,0.0146136],265.836,1,0,[0,0],"","",true,false],
	["Land_BagFence_Short_F",[5.62695,-1.47559,0.743158],275.495,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[5.71143,2.04492,0.713941],269.634,1,0,[0,0],"","",true,false],
	["Land_BagFence_Corner_F",[5.57813,-3.55225,-0.000999928],86.4896,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[5.44824,-3.37012,0.673347],95.7152,1,0,[0,-0],"","",true,false]
];

FIA_RB1_2 =
[
	["Land_BagFence_End_F",[2.92114,1.15674,0.00984526],272.486,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[2.92383,0.516113,0.826016],88.6007,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[2.93262,-1.28369,0.00980139],88.6007,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[2.95142,-0.486328,0.761243],270.091,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[2.89478,1.90234,-0.000999928],88.6007,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[2.84546,2.9458,0.709541],269.51,1,0,[0,0],"","",true,false],
	["Land_BagFence_Short_F",[2.94165,-2.24023,0.752605],91.4433,1,0,[0,-0],"","",true,false],
	["Land_BagFence_Corner_F",[2.93774,-3.45898,0.00974417],179.995,1,0,[0,-0],"","",true,false],
	["Land_BagFence_End_F",[2.79858,4.30859,-0.000999928],269.51,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[3.56299,-3.72314,0.709228],46.5173,1,0,[0,0],"","",true,false],
	[guer_veh_technical,[4.68799,0.154297,0.00717878],180.583,1,0,[-0.599408,-0.0241427],"","",true,false],
	["Land_BagFence_Short_F",[4.81006,-3.48633,-0.000999928],359.04,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[6.60522,-1.09521,-0.000999928],93.438,1,0,[0,-0],"","",true,false],
	["Land_BagFence_End_F",[6.71924,1.32373,0.0145955],269.51,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[6.69971,0.802246,0.709544],269.51,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[6.57935,-1.63232,0.708725],93.438,1,0,[0,-0],"","",true,false],
	["Land_BagFence_Corner_F",[6.41821,-3.51904,-0.000999928],88.1587,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[5.83838,-3.75586,0.708779],129.344,1,0,[0,-0],"","",true,false]
];

FIA_RB2_1 =
[
	["Land_BarrelSand_F",[1.94727,2.18164,6.00815e-005],128.064,1,0,[-0.0131475,-0.014275],"","",true,false],
	["Land_BarrelSand_grey_F",[2.00537,2.69824,5.8651e-005],86.5188,1,0,[-0.013738,-0.0133584],"","",true,false],
	["Land_GarbageHeap_01_F",[1.29492,3.92334,-1.43051e-006],349.045,1,0,[0,0],"","",true,false],
	["Land_BagFence_Corner_F",[2.60693,-3.24609,-0.000999928],177.486,1,0,[0,-0],"","",true,false],
	[guer_veh_technical,[3.98584,0.365234,-0.0162253],180.538,1,0,[-0.511416,-0.0957463],"","",true,false],
	["Land_BagFence_Short_F",[4.45654,-3.23242,0.011085],358.995,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[5.80566,-0.787598,0.0114455],93.3925,1,0,[0,-0],"","",true,false],
	["Land_BagFence_Short_F",[5.70068,-1.07861,0.779918],275.325,1,0,[0,0],"","",true,false],
	["Land_BagFence_Short_F",[5.79102,0.586426,0.766292],89.1645,1,0,[0,0],"","",true,false],
	["Land_BarrelSand_grey_F",[3.15723,5.03809,0.0089817],229.723,1,0,[1.18556,1.93065],"","",true,false],
	["Land_BagFence_Short_F",[5.79688,1.60352,0.00284529],265.667,1,0,[0,0],"","",true,false],
	["Land_BagFence_Corner_F",[5.65576,-3.1543,0.0110679],86.3202,1,0,[0,0],"","",true,false],
	["Land_HBarrier_1_F",[4.27783,4.36816,0],269.755,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[5.77295,2.44287,0.698198],269.464,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[5.52539,-2.97021,0.709936],95.5458,1,0,[0,-0],"","",true,false],
	["Land_BarrelSand_grey_F",[5.38721,4.62988,6.10352e-005],229.208,1,0,[-0.0139131,-0.0138633],"","",true,false]
];

FIA_RB2_2 =
[
	[guer_veh_technical,[4.06958,-0.09375,-0.00249958],179.945,1,0,[-0.541028,-0.0944687],"","",true,false],
	["Land_BagFence_Round_F",[3.66895,-3.92285,-0.00130129],12.5196,1,0,[0,0],"","",true,false],
	["Land_HBarrier_1_F",[3.70313,3.89453,7.62939e-006],260.493,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[4.54419,3.54346,1.3878],181.188,1,0,[0,0],"","",true,false],
	["Land_BagFence_End_F",[5.95532,0.706543,0.698493],94.3208,1,0,[0,-0],"","",true,false],
	["Land_BagFence_Long_F",[6.15356,1.8252,0.00211096],93.4048,1,0,[0,-0],"","",true,false],
	["Land_BagFence_Short_F",[6.02319,2.50049,0.766702],88.5717,1,0,[0,0],"","",true,false],
	["Land_HBarrier_1_F",[5.35303,3.94482,0],272.752,1,0,[0,0],"","",true,false]
];

FIA_RB3_1 =
[
	["Land_BarrelSand_F",[2.07422,-2.61182,5.96046e-005],168.1,1,0,[-0.0129485,-0.0141381],"","",true,false],
	["Land_BarrelSand_F",[2.19727,-3.11279,5.96046e-005],168.1,1,0,[-0.0129485,-0.0141381],"","",true,false],
	["Land_BarrelSand_grey_F",[2.24072,-3.64453,-0.007514],126.742,1,0,[4.47746,1.8631],"","",true,false],
	[guer_veh_technical,[4.03027,-0.601074,0.00751448],179.606,1,0,[-0.602296,-0.0139068],"","",true,false],
	["Land_HBarrier_1_F",[3.24658,3.89795,0],264.665,1,0,[0,0],"","",true,false],
	["Land_BagFence_Long_F",[4.05176,3.6748,1.39889],0.685531,1,0,[0,0],"","",true,false],
	["Land_HBarrier_1_F",[4.89551,3.82861,0],276.924,1,0,[0,0],"","",true,false],
	["Land_GarbageHeap_03_F",[3.94482,-4.8584,-6.67572e-006],181.38,1,0,[0,0],"","",true,false]
];

FIA_RB3_2 =
[
	["Land_BarrelSand_F",[1.8999,-2.98242,3.33786e-005],330.135,1,0,[-0.0079419,-0.00763527],"","",true,false],
	["Land_BarrelSand_grey_F",[1.36255,-3.36279,6.10352e-005],288.612,1,0,[-0.0142866,-0.014127],"","",true,false],
	["Land_BarrelSand_grey_F",[2.49072,-2.83594,6.05583e-005],288.612,1,0,[-0.0141415,-0.0139741],"","",true,false],
	[guer_veh_technical,[4.34985,0.280273,-0.0176225],179.467,1,0,[-0.508473,-0.0925699],"","",true,false],
	["Land_GarbageHeap_01_F",[4.05835,-4.00342,0.00275469],186.848,1,0,[0,0],"","",true,false],
	["Land_HBarrier_1_F",[3.73535,4.64648,0],93.1473,1,0,[0,-0],"","",true,false],
	["Land_BagFence_Long_F",[4.50488,4.57861,-0.0873656],181.347,1,0,[-3.78564,-3.32831],"","",true,false],
	["Land_HBarrier_1_F",[5.3855,4.68604,0],80.8882,1,0,[0,0],"","",true,false]
];

fnc_RB_randomRB = {
	selectRandom [FIA_RB1_1,FIA_RB1_2,FIA_RB2_1,FIA_RB2_2,FIA_RB3_1,FIA_RB3_2];
};

fnc_RB_placeSingle = {
	params ["_position", ["_lane", "right"]];

	private ["_roads", "_objs", "_gunner", "_connectedRoads", "_dir","_spawnPos", "_spawnDir", "_vehicle", "_rotation", "_RBgroup", "_surface", "_infPos"];

	private _range = 20;

	if !(typeName _position == "ARRAY") then {
		_position = getMarkerPos _position;
	};

	_spawnData = [_position, [ciudades, _position] call BIS_fnc_nearestPosition] call AS_fnc_findRoadspot;
	if (count _spawnData < 1) exitWith {diag_log format ["Roadblock error report -- bad position: %1", _position]};
	_roadPos = _spawnData select 0;
	_roadDir = _spawnData select 1;

	if  (_lane == "right") then {
		_rotation = 90;
	} else {
		_rotation = 270;
	};
	_dir = _roadDir;
	_spawnDir = _dir + _rotation;
	_spawnPos = [_roadPos, 4, _spawnDir] call BIS_Fnc_relPos;
	_infPos = [_roadPos, 10, _spawnDir] call BIS_Fnc_relPos;
	_infPos = [_infPos, 20, _dir] call BIS_Fnc_relPos;
	_spawnDir = _spawnDir + 270;
	_objs = [_spawnPos, _spawnDir, [] call fnc_RB_randomRB] call BIS_fnc_ObjectsMapper;

	{
		_surface = surfaceNormal (position _x);
		_x setVectorUp _surface;
		if (str typeof _x find guer_veh_technical > -1) then {
        	_vehicle = _x;
   		};
	} forEach _objs;

	_vehicle allowDamage false;
	_vehicle setFuel 0;
	0 = [_vehicle] spawn VEHinit;
	_RBgroup = createGroup side_blue;
	_gunner = _RBgroup createUnit [guer_sol_AR, [0,0,0], [], 0, "NONE"];
	_gunner moveInGunner _vehicle;
	[_gunner] spawn AS_fnc_initialiseFIAGarrisonUnit;

	[[_vehicle, _gunner]] spawn AS_fnc_protectVehicle;

	[_objs, [_gunner], [_infPos, _dir]];
};

fnc_RB_placeDouble = {
	params ["_position"];

	private ["_objs", "_gunners", "_dataR", "_dataL"];

	_dataR = [_position, "right"] call fnc_RB_placeSingle;
	_dataL = [_position, "left"] call fnc_RB_placeSingle;

	diag_log format ["R: %1; L: %2", (_dataR select 2), (_dataL select 2)];

	[(_dataR select 0) + (_dataL select 0), (_dataR select 1) + (_dataL select 1), selectRandom [(_dataR select 2), (_dataL select 2)]];
};